<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
      <title>Tutorial on M. Fahrizal Rahman </title>
      <generator uri="https://gohugo.io">Hugo</generator>
    <link>https://riesal.github.io/categories/tutorial/</link>
    <language>en-us</language>
    
    
    <updated>Tue, 06 Dec 2016 15:12:28 &#43;0000</updated>
    
    <item>
      <title>Compressing many files with Tar</title>
      <link>https://riesal.github.io/2016/12/compressing-file-with-tar/</link>
      <pubDate>Tue, 06 Dec 2016 15:12:28 &#43;0000</pubDate>
      
      <guid>https://riesal.github.io/2016/12/compressing-file-with-tar/</guid>
      <description>&lt;p&gt;Ever tried to compress many (hundreds of thousand) files with tar? With this command: tar -cf file_names.tar *.jpg
i bet you will found error message like this: -bash: /bin/tar: Argument list too long
&lt;span id=&#34;more-4512&#34;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;All shell have / has a limit for the command line length. UNIX / Linux / BSD system has a limit on how many bytes can be used for the command line argument and environment variables. The question is how do i find out current command line length limit? the answer is:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ getconf ARG_MAX
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ echo $(( $(getconf ARG_MAX) - $(env | wc -c) ))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;or in more detail and if your system have xargs command:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ xargs --show-limits
Your environment variables take up 2658 bytes
POSIX upper limit on argument length (this system): 2092446
POSIX smallest allowable upper limit on argument length (all systems): 4096
Maximum length of command we could actually use: 2089788
Size of command buffer we are actually using: 131072
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Usually linux starting kernel 2.6.23, the ARG_MAX value is about &lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;4&lt;/sub&gt; of stack size(ulimit -s), and linux kernel pre 2.6.23 the ARG_MAX value is about PAGE_SIZE * MAX_ARG_PAGES (4096 * 32) minus 4, which means, any number of file lists that exceed this number will break the bash command.&lt;/p&gt;

&lt;p&gt;So, what is the answer? Quite simple:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;use find or xargs command&lt;/li&gt;
&lt;li&gt;use shell for / while loop&lt;/li&gt;
&lt;li&gt;use file manifest(need to define before)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In this case i will show you how to compress hundreds of thousand file using tar with file-manifest, tar command provide us with &amp;lsquo;-T&amp;rsquo; option for this!&lt;/p&gt;

&lt;p&gt;Steps:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;create the file-manifest
&lt;code&gt;
find . -name &#39;*.jpg&#39; -print &amp;gt;/tmp/file.manifest
&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;add the file manifest content to tar
&lt;code&gt;
tar -cvzf textfiles.tar.gz --files-from /tmp/file.manifest
&lt;/code&gt;
or
&lt;code&gt;
tar -cv -T /tmp/file.manifest -f tarball.tar
&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;remove the jpg files
&lt;code&gt;
find . -name &#39;*.jpg&#39; | xargs rm -v
&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;or
&lt;code&gt;
tar -cvzf textfiles.tar.gz --files-from /tmp/file.manifest --remove-files
&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;the.end.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>VIM Cheatsheet</title>
      <link>https://riesal.github.io/2016/11/vim-cheatseet/</link>
      <pubDate>Sat, 19 Nov 2016 09:12:28 &#43;0000</pubDate>
      
      <guid>https://riesal.github.io/2016/11/vim-cheatseet/</guid>
      <description>&lt;p&gt;Note: If you’re decent at vim and want your mind blown, check out &lt;a href=&#34;http://vimsheet.com/advanced.html&#34;&gt;Advanced Vim&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I’ve compiled a list of essential vim commands that I use every day. I then give a few instructions on how to making vim as great as it should be, because it’s painful without configuration.&lt;/p&gt;

&lt;p&gt;&lt;span id=&#34;more-4512&#34;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;commands-container&#34;&gt;
    &lt;div class=&#34;grid-block&#34;&gt;
      &lt;div class=&#34;grid-lg-1-3&#34;&gt;
        &lt;h2&gt;Global&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;:help keyword&lt;/kbd&gt; - open help for keyword&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:o file&lt;/kbd&gt; - open file&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:saveas file&lt;/kbd&gt; - save file as&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:close&lt;/kbd&gt; - close current pane&lt;/li&gt;
        &lt;/ul&gt;
        &lt;h2&gt;Cursor movement&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;h&lt;/kbd&gt; - move cursor left&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;j&lt;/kbd&gt; - move cursor down&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;k&lt;/kbd&gt; - move cursor up&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;l&lt;/kbd&gt; - move cursor right&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;H&lt;/kbd&gt; - move to top of screen&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;M&lt;/kbd&gt; - move to middle of screen&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;L&lt;/kbd&gt; - move to bottom of screen&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;w&lt;/kbd&gt; - jump forwards to the start of a word&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;W&lt;/kbd&gt; - jump forwards to the start of a word (words can contain punctuation)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;e&lt;/kbd&gt; - jump forwards to the end of a word&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;E&lt;/kbd&gt; - jump forwards to the end of a word (words can contain punctuation)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;b&lt;/kbd&gt; - jump backwards to the start of a word&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;B&lt;/kbd&gt; - jump backwards to the start of a word (words can contain punctuation)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;0&lt;/kbd&gt; - jump to the start of the line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;^&lt;/kbd&gt; - jump to the first non-blank character of the line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;$&lt;/kbd&gt; - jump to the end of the line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;g_&lt;/kbd&gt; - jump to the last non-blank character of the line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;gg&lt;/kbd&gt; - go to the first line of the document&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;G&lt;/kbd&gt; - go to the last line of the document&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;5G&lt;/kbd&gt; - go to line 5&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;fx&lt;/kbd&gt; - jump to next occurrence of character x&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;tx&lt;/kbd&gt; - jump to before next occurrence of character x&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;}&lt;/kbd&gt; - jump to next paragraph (or function/block, when editing code)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;{&lt;/kbd&gt; - jump to previous paragraph (or function/block, when editing code)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;b&lt;/kbd&gt; - move back one full screen&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;f&lt;/kbd&gt; - move forward one full screen&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;d&lt;/kbd&gt; - move forward &lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;2&lt;/sub&gt; a screen&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;u&lt;/kbd&gt; - move back &lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;2&lt;/sub&gt; a screen&lt;/li&gt;
        &lt;/ul&gt;
        &lt;div class=&#34;well&#34;&gt;
          &lt;strong&gt;Tip&lt;/strong&gt; Prefix a cursor movement command with a number to repeat it. For example, &lt;kbd&gt;4j&lt;/kbd&gt; moves down 4 lines.
        &lt;/div&gt;
        &lt;h2&gt;Insert mode - inserting/appending text&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;i&lt;/kbd&gt; - insert before the cursor&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;I&lt;/kbd&gt; - insert at the beginning of the line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;a&lt;/kbd&gt; - insert (append) after the cursor&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;A&lt;/kbd&gt; - insert (append) at the end of the line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;o&lt;/kbd&gt; - append (open) a new line below the current line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;O&lt;/kbd&gt; - append (open) a new line above the current line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;ea&lt;/kbd&gt; - insert (append) at the end of the word&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Esc&lt;/kbd&gt; - exit insert mode&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
      &lt;div class=&#34;grid-lg-1-3&#34;&gt;
        &lt;h2&gt;Editing&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;r&lt;/kbd&gt; - replace a single character&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;J&lt;/kbd&gt; - join line below to the current one&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;cc&lt;/kbd&gt; - change (replace) entire line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;cw&lt;/kbd&gt; - change (replace) to the end of the word&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;c$&lt;/kbd&gt; - change (replace) to the end of the line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;s&lt;/kbd&gt; - delete character and substitute text&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;S&lt;/kbd&gt; - delete line and substitute text (same as cc)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;xp&lt;/kbd&gt; - transpose two letters (delete and paste)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;u&lt;/kbd&gt; - undo&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;r&lt;/kbd&gt; - redo&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;.&lt;/kbd&gt; - repeat last command&lt;/li&gt;
        &lt;/ul&gt;
        &lt;h2&gt;Marking text (visual mode)&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;v&lt;/kbd&gt; - start visual mode, mark lines, then do a command (like y-yank)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;V&lt;/kbd&gt; - start linewise visual mode&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;o&lt;/kbd&gt; - move to other end of marked area&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;v&lt;/kbd&gt; - start visual block mode&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;O&lt;/kbd&gt; - move to other corner of block&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;aw&lt;/kbd&gt; - mark a word&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;ab&lt;/kbd&gt; - a block with ()&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;aB&lt;/kbd&gt; - a block with {}&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;ib&lt;/kbd&gt; - inner block with ()&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;iB&lt;/kbd&gt; - inner block with {}&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Esc&lt;/kbd&gt; - exit visual mode&lt;/li&gt;
        &lt;/ul&gt;
        &lt;h2&gt;Visual commands&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;&amp;#62;&lt;/kbd&gt; - shift text right&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;&amp;#60;&lt;/kbd&gt; - shift text left&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;y&lt;/kbd&gt; - yank (copy) marked text&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;d&lt;/kbd&gt; - delete marked text&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;~&lt;/kbd&gt; - switch case&lt;/li&gt;
        &lt;/ul&gt;
        &lt;h2&gt;Registers&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;:reg&lt;/kbd&gt; - show registers content&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;&amp;ldquo;xy&lt;/kbd&gt; - yank into register x&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;&amp;ldquo;0p&lt;/kbd&gt; - paste contents of register x&lt;/li&gt;
        &lt;/ul&gt;
        &lt;div class=&#34;well&#34;&gt;
          &lt;strong&gt;Tip&lt;/strong&gt; Registers are being stored in ~/.viminfo, and will be loaded again on next restart of vim.
        &lt;/div&gt;
        &lt;div class=&#34;well&#34;&gt;
          &lt;strong&gt;Tip&lt;/strong&gt; Register 0 contains always the value of the last yank command.
        &lt;/div&gt;
        &lt;h2&gt;Marks&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;:marks&lt;/kbd&gt; - list of marks&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;ma&lt;/kbd&gt; - set current position for mark A&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;&lt;code&gt;a&amp;lt;/kbd&amp;gt; - jump to position of mark A&amp;lt;/li&amp;gt;
          &amp;lt;li&amp;gt;&amp;lt;kbd&amp;gt;y&lt;/code&gt;a&lt;/kbd&gt; - yank text to position of mark A&lt;/li&gt;
        &lt;/ul&gt;
        &lt;h2&gt;Macros&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;qa&lt;/kbd&gt; - record macro a&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;qq&lt;/kbd&gt; - stop recording macro&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;@@&lt;/kbd&gt; - rerun last run macro&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
      &lt;div class=&#34;grid-lg-1-3&#34;&gt;
        &lt;h2&gt;Cut and paste&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;yy&lt;/kbd&gt; - yank (copy) a line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;2yy&lt;/kbd&gt; - yank (copy) 2 lines&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;yw&lt;/kbd&gt; - yank (copy) the characters of the word from the cursor position to the start of the next word&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;y$&lt;/kbd&gt; - yank (copy) to end of line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;p&lt;/kbd&gt; - put (paste) the clipboard after cursor&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;P&lt;/kbd&gt; - put (paste) before cursor&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;dd&lt;/kbd&gt; - delete (cut) a line&lt;/li&gt;
      &lt;li&gt;&lt;kbd&gt;dG&lt;/kbd&gt; - delete from the current line to the end of file
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;v&lt;/kbd&gt; + &lt;kbd&gt;G&lt;/kbd&gt; + &lt;kbd&gt;d&lt;/kbd&gt; - using visual mode: delete from the current line to the end of file
          &lt;li&gt;&lt;kbd&gt;2dd&lt;/kbd&gt; - delete (cut) 2 lines&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;dw&lt;/kbd&gt; - delete (cut) the characters of the word from the cursor position to the start of the next word&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;D&lt;/kbd&gt; - delete (cut) to the end of the line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;d$&lt;/kbd&gt; - delete (cut) to the end of the line&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;x&lt;/kbd&gt; - delete (cut) character&lt;/li&gt;
        &lt;/ul&gt;
        &lt;h2&gt;Exiting&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;:w&lt;/kbd&gt; - write (save) the file, but don&amp;rsquo;t exit&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:w !sudo tee %&lt;/kbd&gt; - write out the current file using sudo&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:wq&lt;/kbd&gt; or &lt;kbd&gt;:x&lt;/kbd&gt; or &lt;kbd&gt;ZZ&lt;/kbd&gt; - write (save) and quit&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:q&lt;/kbd&gt; - quit (fails if there are unsaved changes)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:q!&lt;/kbd&gt; or &lt;kbd&gt;ZQ&lt;/kbd&gt; - quit and throw away unsaved changes&lt;/li&gt;
        &lt;/ul&gt;
        &lt;h2&gt;Search and replace&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;/pattern&lt;/kbd&gt; - search for pattern&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;?pattern&lt;/kbd&gt; - search backward for pattern&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;\vpattern&lt;/kbd&gt; - &amp;lsquo;very magic&amp;rsquo; pattern: non-alphanumeric characters are interpreted as special regex symbols (no escaping needed)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;n&lt;/kbd&gt; - repeat search in same direction&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;N&lt;/kbd&gt; - repeat search in opposite direction&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:%s/old/new/g&lt;/kbd&gt; - replace all old with new throughout file&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:%s/old/new/gc&lt;/kbd&gt; - replace all old with new throughout file with confirmations&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:noh&lt;/kbd&gt; - remove highlighting of search matches&lt;/li&gt;
        &lt;/ul&gt;
        &lt;h2&gt;Search in multiple files&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;:vimgrep /pattern/ {file}&lt;/kbd&gt; - search for pattern in multiple files&lt;/li&gt;
        &lt;/ul&gt;
        &lt;div class=&#34;well&#34;&gt;
          e.g.
          &lt;kbd&gt;:vimgrep /foo/ *&lt;em&gt;/&lt;/em&gt;&lt;/kbd&gt;
        &lt;/div&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;:cn&lt;/kbd&gt; - jump to the next match&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:cp&lt;/kbd&gt; - jump to the previous match&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:copen&lt;/kbd&gt; - open a window containing the list of matches&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt; &lt;!-- end grid-block --&gt;
    &lt;div class=&#34;grid-block&#34;&gt;
      &lt;div class=&#34;grid-lg-1-3&#34;&gt;
        &lt;h2&gt;Working with multiple files&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;:e file&lt;/kbd&gt; - edit a file in a new buffer&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:bnext&lt;/kbd&gt; or &lt;kbd&gt;:bn&lt;/kbd&gt; - go to the next buffer&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:bprev&lt;/kbd&gt; or &lt;kbd&gt;:bp&lt;/kbd&gt; - go to the previous buffer&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:bd&lt;/kbd&gt; - delete a buffer (close a file)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:ls&lt;/kbd&gt; - list all open buffers&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:sp file&lt;/kbd&gt; - open a file in a new buffer and split window&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:vsp file&lt;/kbd&gt; - open a file in a new buffer and vertically split window&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;ws&lt;/kbd&gt; - split window&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;ww&lt;/kbd&gt; - switch windows&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;wq&lt;/kbd&gt; - quit a window&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;wv&lt;/kbd&gt; - split window vertically&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;wh&lt;/kbd&gt; - move cursor to the left window (vertical split)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;wl&lt;/kbd&gt; - move cursor to the right window (vertical split)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;wj&lt;/kbd&gt; - move cursor to the window below (horizontal split)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;wk&lt;/kbd&gt; - move cursor to the window above (horizontal split)&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
      &lt;div class=&#34;grid-lg-1-3&#34;&gt;
        &lt;h2&gt;Tabs&lt;/h2&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;kbd&gt;:tabnew&lt;/kbd&gt; or &lt;kbd&gt;:tabn file&lt;/kbd&gt; - open a file in a new tab&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;wT&lt;/kbd&gt;  - move the current split window into its own tab&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;gt&lt;/kbd&gt; or &lt;kbd&gt;:tabnext&lt;/kbd&gt; or &lt;kbd&gt;:tabn&lt;/kbd&gt;  - move to the next tab&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;gT&lt;/kbd&gt; or &lt;kbd&gt;:tabprev&lt;/kbd&gt; or &lt;kbd&gt;:tabp&lt;/kbd&gt;  - move to the previous tab&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;#gt&lt;/kbd&gt; - move to tab number #&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:tabmove #&lt;/kbd&gt; - move current tab to the #th position (indexed from 0)&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:tabclose&lt;/kbd&gt; or &lt;kbd&gt;:tabc&lt;/kbd&gt; - close the current tab and all its windows&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:tabonly&lt;/kbd&gt; or &lt;kbd&gt;:tabo&lt;/kbd&gt; - close all tabs except for the current one&lt;/li&gt;
          &lt;li&gt;&lt;kbd&gt;:tabdo&lt;/kbd&gt; command - run the &lt;code&gt;command&lt;/code&gt; on all tabs (e.g. &lt;code&gt;:tabdo q&lt;/code&gt; - closes all opened tabs)&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt; &lt;!-- end grid-block --&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MySQL Replication Type</title>
      <link>https://riesal.github.io/2016/10/mysql-replication-type/</link>
      <pubDate>Tue, 11 Oct 2016 18:12:28 &#43;0000</pubDate>
      
      <guid>https://riesal.github.io/2016/10/mysql-replication-type/</guid>
      <description>&lt;p&gt;By default, master and slave servers assume that they are in the same time zone. If you are replicating between servers in different time zones, the time zone must be set on both master and slave. &lt;span id=&#34;more-4512&#34;&gt;&lt;/span&gt;Otherwise, statements depending on the local time on the master are not replicated properly, such as statements that use the NOW() or FROM_UNIXTIME() functions.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;MySQL binary logging and replication is statement-based as well, when the master server commits a change, it writes the SQL statement into its binary log, and any slaves that replicate it execute the same SQL statement into their own database. MySQL also supports row-based replication: the master server logs the data affected by a change (information to INSERT or UPDATE, the identity of rows to DELETE), and the slave applies those changes directly to its database.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Row-based replication was introduced to provide perfect replication of data that is non-deterministic: when the same statement was executed on the master and slave, the outcome was different. It can also have a performance impact. Short SQL queries that affect a lot of rows would require more bandwidth to transmit as row-based replication.&lt;/p&gt;

&lt;p&gt;For example, if replicated by row, this statement would have to uniquely identify 10,000 rows; it would be much more efficiently transmitted as statement-based:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;DELETE FROM goodie.bag WHERE id BETWEEN 1 AND 9000;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;But difficult to evaluate queries that change relatively little data would be much faster to apply to slaves if the master told them what to change instead of forcing them to repeat the work. For example, this statement requires a table scan and a hash calculation on every row; slaves could save considerable processor time if the master just told them the outcome of all those calculations using row-based replication:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;DELETE FROM user WHERE MD5(User) = &amp;quot;c498faa0787b2eaf054b81f814b1aa12&amp;quot;;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The MySQL documentation recommends you use Mixed Mode replication. In Mixed Mode replication, most queries are replicated by statement. But transactions MySQL knows are non-deterministic are replicated by row.&lt;/p&gt;

&lt;p&gt;Mixed Mode uses row-based replication for any transaction that:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Uses user defined functions&lt;/li&gt;
&lt;li&gt;Uses the UUID(), USER(), or CURRENT_USER() functions&lt;/li&gt;
&lt;li&gt;Uses LOAD_FILE (which otherwise assumes every slave has the exact same file on the local file system and doesn&amp;rsquo;t replicate the data)&lt;/li&gt;
&lt;li&gt;Updates two tables with auto_increment columns (the binlog format only carries one auto_increment value per statement)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Review a Statement-Based Binary Log,&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; show variables like &amp;quot;binlog_format&amp;quot;;
+---------------+-----------+
| Variable_name | Value     |
+---------------+-----------+
| binlog_format | STATEMENT |
+---------------+-----------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We&amp;rsquo;re going to look at the format of a statement-based binary log. Tell master to end the current log file and start a new one.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; flush logs;
Query OK, 0 rows affected (0.06 sec)

mysql&amp;gt; show master status;
+------------------+----------+--------------+------------------+
| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB |
+------------------+----------+--------------+------------------+
| mysql-bin.000002 |      107 |              |                  |
+------------------+----------+--------------+------------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Insert a new record.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; insert into important.stuff set details = &#39;testing statement-based replication&#39;;
Query OK, 1 row affected (0.02 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Exit MySQL and take a look at this statement in the binary log, using the log file you learned from show master status&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; exit
Bye
master ~ 
$ sudo mysqlbinlog /var/lib/mysql/mysql-bin.000002
/*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE=1*/;
/*!40019 SET @@session.max_insert_delayed_threads=0*/;
/*!50003 SET @OLD_COMPLETION_TYPE=@@COMPLETION_TYPE,COMPLETION_TYPE=0*/;
DELIMITER /*!*/;
SET INSERT_ID=296/*!*/;
SET TIMESTAMP=1366738849/*!*/;
insert into important.stuff set details = &#39;testing statement-based replication&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can see in this statement-based binary log file that replication carries a lot metadata to make sure that the statement works the same on the slave:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;SET INSERT_ID will ensure the row&#39;s id is the same on both servers.
SET TIMESTAMP will ensure the row&#39;s happened column shows the same time on both servers.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Finally, you can see the statement itself in the binary log, ready to be replicated.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;slave ~ $ mysql -u root
mysql&amp;gt; select * from important.stuff order by id desc limit 1;
+-----+---------------------------+---------------------+
| id  | details                   | happened            |
+-----+---------------------------+---------------------+
| 296 | testing happy replication | 2013-04-12 14:09:26 |
+-----+---------------------------+---------------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;After this step is completed:
INSERT a new record on the master in the table important.stuff
Within 1 second, that record is replicated to the slave&lt;/p&gt;

&lt;p&gt;Non-Deterministic Problem with Statement-Based Replication
Now we&amp;rsquo;re going to intentionally use a function that is not compatible with statement-based replication.&lt;/p&gt;

&lt;p&gt;The UUID() function creates a universally unique identifier. By definition, the output of the UUID() function should be different every time it is run.&lt;/p&gt;

&lt;p&gt;(Note, RAND() doesn&amp;rsquo;t have this problem; MySQL logs the random number generator seed to the binary log; using the same seed, the slave generates the same pseudorandom number.)&lt;/p&gt;

&lt;p&gt;Insert a new row in the master containing a UUID.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;master ~ $ mysql -u root
mysql&amp;gt; insert into important.stuff set details=UUID();
Query OK, 1 row affected, 1 warning (0.03 sec)

mysql&amp;gt; select * from important.stuff order by id desc limit 1;
+-----+--------------------------------------+---------------------+
| id  | details                              | happened            |
+-----+--------------------------------------+---------------------+
| 287 | aebd063b-a960-11e2-bcc6-12313909faab | 2013-04-20 02:19:08 |
+-----+--------------------------------------+---------------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now view the same record on the slave:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; select * from important.stuff order by id desc limit 1;
+-----+--------------------------------------+---------------------+
| id  | details                              | happened            |
+-----+--------------------------------------+---------------------+
| 287 | aec0309a-a960-11e2-aef4-1231390f21fa | 2013-04-20 02:19:08 |
+-----+--------------------------------------+---------------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can see that the details column for the newest row is different between the two servers. (They&amp;rsquo;re similar because UUID is built from timestamp and network address, and the statement replicated quickly between servers with similar network characteristics.)&lt;/p&gt;

&lt;p&gt;After this step is completed:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;On the master, the MySQL variable binlog_format has default value STATEMENT&lt;/li&gt;
&lt;li&gt;On the slave, the MySQL variable binlog_format has default value STATEMENT&lt;/li&gt;
&lt;li&gt;INSERT a new record containing a UUID on the master in the table important.stuff&lt;/li&gt;
&lt;li&gt;Within 1 second, replication inserts a different record on the slave&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Configure Row-Based Replication
Configure the master for row-based replication:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; exit
Bye
master ~ $ sudoedit /etc/my.cnf

Insert this line immediately after [mysql]:
[mysqld]
binlog_format = row

Then restart the MySQL service on the master and verify the change:
master ~ $ sudo service mysqld restart
Stopping mysqld:                                           [  OK  ]
Starting mysqld:                                           [  OK  ]
master ~ $ mysql -u root

mysql&amp;gt; show variables like &amp;quot;binlog_format&amp;quot;;
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| binlog_format | ROW   |
+---------------+-------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Complete the same procedure on the slave.&lt;/p&gt;

&lt;p&gt;After this step is completed:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;On the master, /etc/my.cnf sets binlog_format to ROW&lt;/li&gt;
&lt;li&gt;On the master, the MySQL variable binlog_format has value ROW&lt;/li&gt;
&lt;li&gt;On the slave, /etc/my.cnf sets binlog_format to ROW&lt;/li&gt;
&lt;li&gt;On the slave, the MySQL variable binlog_format has value ROW&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Review a Row-Based Binary Log
The master will have started a new binary log file during the service restart, so let&amp;rsquo;s run two interesting transactions.&lt;/p&gt;

&lt;p&gt;First, insert another row on the master containing a UUID, to show that row-based replication solves that problem:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; insert into important.stuff set details=UUID();
Query OK, 1 row affected (0.02 sec)

mysql&amp;gt; select * from important.stuff order by id desc limit 1;
+-----+--------------------------------------+---------------------+
| id  | details                              | happened            |
+-----+--------------------------------------+---------------------+
| 288 | 5445c7d9-a961-11e2-82fd-12313909faab | 2013-04-20 02:23:46 |
+-----+--------------------------------------+---------------------+
1 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Look up the new row on the slave:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; select * from important.stuff order by id desc limit 1;
+-----+--------------------------------------+---------------------+
| id  | details                              | happened            |
+-----+--------------------------------------+---------------------+
| 288 | 5445c7d9-a961-11e2-82fd-12313909faab | 2013-04-20 02:23:46 |
+-----+--------------------------------------+---------------------+
1 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This time, the slave replicated a perfect copy of the UUID.&lt;/p&gt;

&lt;p&gt;Now, on the master, we&amp;rsquo;ll perform a large DELETE query to see a downside of row-based replication.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; select count(*) from important.stuff;
+----------+
| count(*) |
+----------+
|      288 |
+----------+
1 row in set (0.01 sec)

mysql&amp;gt; delete from important.stuff where id between 100 and 199;
Query OK, 100 rows affected (0.04 sec)

mysql&amp;gt; select count(*) from important.stuff;
+----------+
| count(*) |
+----------+
|      188 |
+----------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And verify that the slave applied the same change:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; select count(*) from important.stuff;
+----------+
| count(*) |
+----------+
|      188 |
+----------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Back on the master, look at how these two changes are represented in the binary log.&lt;/p&gt;

&lt;p&gt;The master will have started a new binary log file during the service restart, these two transactions are the only content in the latest log file.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; show master status;
+------------------+----------+--------------+------------------+
| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB |
+------------------+----------+--------------+------------------+
| mysql-bin.000003 |     3168 |              |                  |
+------------------+----------+--------------+------------------+
1 row in set (0.00 sec)

mysql&amp;gt; exit
Bye
master ~ 
$ sudo mysqlbinlog /var/lib/mysql/mysql-bin.000003
......some content not shown
/*!*/;
\#130424  4:25:55 server id 10  end_log_pos 233     Table_map: `important`.`stuff` mapped to number 33
\#130424  4:25:55 server id 10  end_log_pos 308     Write_rows: table id 33 flags: STMT_END_F
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Near the top of the file, you&amp;rsquo;ll see the transaction where you inserted the working row with a UUID. You&amp;rsquo;ll also notice that there&amp;rsquo;s no obvious way to figure out what is going on reading the log file, even with the help of mysqlbinlog. Because this log file contains only one INSERT, it&amp;rsquo;s possible find that transaction by looking for Write_rows.&lt;/p&gt;

&lt;p&gt;The row data itself is passed in the three-line BINLOG block.&lt;/p&gt;

&lt;p&gt;The next transaction is the large DELETE:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;\#130424  4:32:08 server id 10  end_log_pos 671     Table_map: `important`.`stuff` mapped to number 33
\#130424  4:32:08 server id 10  end_log_pos 1708     Delete_rows: table id 33
\#130424  4:32:08 server id 10  end_log_pos 2747     Delete_rows: table id 33
\#130424  4:32:08 server id 10  end_log_pos 3566     Delete_rows: table id 33 flags: STMT_END_F
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The huge binlog data block (which we&amp;rsquo;ve reproduced barely a fraction of here) contains the information the slave will need to uniquely identify each of the 100 affected rows.&lt;/p&gt;

&lt;p&gt;After this step is completed:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;INSERT a new record containing a UUID on the master in the table important.stuff&lt;/li&gt;
&lt;li&gt;Within 1 second, that exact record is replicated to the slave&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Configure Mixed Mode Replication&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;In Mixed Mode, MySQL uses statement-based replication for most queries, switching to row-based replication only when statement-based replication would cause an inconsistency (or corruption). It is a compromise between the two replication types we&amp;rsquo;ve already explored.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Turn on Mixed Mode on the master by editing /etc/my.cnf&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;master ~ $ sudoedit /etc/my.cnf
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Update the binlog_format setting to be mixed:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;[mysqld]
binlog_format = mixed
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then restart the MySQL service on the master and verify the change:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;master ~ $ sudo service mysqld restart
Stopping mysqld:                                           [  OK  ]
Starting mysqld:                                           [  OK  ]
master ~ $ mysql -u root

mysql&amp;gt; show variables like &amp;quot;binlog_format&amp;quot;;
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| binlog_format | MIXED |
+---------------+-------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Repeat this procedure on the slave.
After this step is completed:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;On the master, /etc/my.cnf sets binlog_format to MIXED&lt;/li&gt;
&lt;li&gt;On the master, the MySQL variable binlog_format has value MIXED&lt;/li&gt;
&lt;li&gt;On the slave, /etc/my.cnf sets binlog_format to MIXED&lt;/li&gt;
&lt;li&gt;On the slave, the MySQL variable binlog_format has value MIXED&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Review a Mixed Mode Binary Log
Now insert another row on the master containing a UUID:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; insert into important.stuff set details=UUID();
Query OK, 1 row affected (0.02 sec)

mysql&amp;gt; select * from important.stuff order by id desc limit 1;
+-----+--------------------------------------+---------------------+
| id  | details                              | happened            |
+-----+--------------------------------------+---------------------+
| 288 | 5445c7d9-a961-11e2-82fd-12313909faab | 2013-04-20 02:23:46 |
+-----+--------------------------------------+---------------------+
2 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now verify that the new row, as replicated to the slave, has a details column that matches the master:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; select * from important.stuff order by id desc limit 1;
+-----+--------------------------------------+---------------------+
| id  | details                              | happened            |
+-----+--------------------------------------+---------------------+
| 288 | 5445c7d9-a961-11e2-82fd-12313909faab | 2013-04-20 02:23:46 |
+-----+--------------------------------------+---------------------+
2 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then run another large DELETE on the master:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; select count(*) from important.stuff;
+----------+
| count(*) |
+----------+
|      188 |
+----------+
1 row in set (0.01 sec)

mysql&amp;gt; delete from important.stuff where id between 200 and 299;
Query OK, 100 rows affected (0.04 sec)

mysql&amp;gt; select count(*) from important.stuff;
+----------+
| count(*) |
+----------+
|       88 |
+----------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And verify that the slave applied the same change:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; select count(*) from important.stuff;
+----------+
| count(*) |
+----------+
|       88 |
+----------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then view the log on the master:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mysql&amp;gt; show master status;
+------------------+----------+--------------+------------------+
| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB |
+------------------+----------+--------------+------------------+
| mysql-bin.000004 |      532 |              |                  |
+------------------+----------+--------------+------------------+
1 row in set (0.00 sec)

mysql&amp;gt; exit
Bye
master ~ 
$ sudo mysqlbinlog /var/lib/mysql/mysql-bin.000004
\#130424  4:56:08 server id 10  end_log_pos 224     Table_map: `important`.`stuff` mapped to number 33
\#130424  4:56:08 server id 10  end_log_pos 299     Write_rows: table id 33 flags: STMT_END_F
SET TIMESTAMP=1366779399/*!*/;
delete from important.stuff where id between 200 and 299
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In this binary log, you can see the INSERT used row-based replication, because it contained a call to the UUID() function. You can still find this transaction by the tell-tale Write_rows marker. Meanwhile, the DELETE used the more efficient statement-based replication because it did not contain any non-deterministic warning signs.&lt;/p&gt;

&lt;p&gt;After this step is completed:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;INSERT a new record containing a UUID on the master in the table important.stuff&lt;/li&gt;
&lt;li&gt;Within 1 second, that exact record is replicated to the slave&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Easy ways to create a sitemap</title>
      <link>https://riesal.github.io/2015/08/easy-ways-to-create-a-sitemap/</link>
      <pubDate>Thu, 13 Aug 2015 09:07:42 &#43;0000</pubDate>
      
      <guid>https://riesal.github.io/2015/08/easy-ways-to-create-a-sitemap/</guid>
      <description>

&lt;h3 id=&#34;what-is-a-sitemap&#34;&gt;What is a sitemap?&lt;/h3&gt;

&lt;p&gt;A sitemap is a document that lists all URLs of your website that you would like crawled by a search engine. Most often, this document gives additional details such as the date a page was last modified, how frequently a page may change, and whether the page should be given priority over others, I will show you all the easy ways to create a sitemap..&lt;/p&gt;

&lt;h3 id=&#34;why-do-i-need-a-sitemap&#34;&gt;Why do I need a sitemap?&lt;/h3&gt;

&lt;p&gt;We’ve all become accustomed to using a search engine, probably daily. We often “Google” our questions throughout the day. Sitemaps are important because they tell search engines what pages are available for crawling on the website. They help search engines navigate your website and with this, your content is indexed.&lt;/p&gt;

&lt;p&gt;You may be wondering how sitemaps work, since it is kind of an abstract concept. Think of it this way, your website is a building, and the sitemap is the blueprint that explains where all the parts of the structure are. An important addition to any site, they are easy to create and once they are set up, do not require a lot of maintenance.&lt;/p&gt;

&lt;h3 id=&#34;how-do-the-search-engines-find-the-sitemap&#34;&gt;How do the search engines find the sitemap?&lt;/h3&gt;

&lt;p&gt;Once your sitemap is set up, search engines don’t automatically find it. To have your site indexed, a submittal process is required. The process is easy, and this can be accomplished in just a few simple steps. There are others, but the two major search engines to start with are Google and Bing. Easy ways to create a sitemap, once you have your sitemap ready, you can do this by setting up a &lt;a href=&#34;https://www.google.com/webmasters/tools/&#34; target=&#34;_blank&#34;&gt;Google Webmaster Tools&lt;/a&gt; and a &lt;a href=&#34;http://www.bing.com/toolbox/webmaster&#34; target=&#34;_blank&#34;&gt;Bing Webmaster Tools&lt;/a&gt; account. After the accounts are setup, you will be able to walk through step by step to get your sitemap submitted.&lt;/p&gt;

&lt;h3 id=&#34;how-to-create-a-sitemap&#34;&gt;&lt;strong&gt;How to create a sitemap&lt;/strong&gt;&lt;/h3&gt;

&lt;h4 id=&#34;small-website-solution-manual-option&#34;&gt;&lt;strong&gt;Small website solution manual option&lt;/strong&gt;&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;http://www.xml-sitemaps.com/&#34; target=&#34;_blank&#34;&gt;XML-Sitemaps&lt;/a&gt; is a tool that will generate a sitemap for you. Currently, it will generate up to 500 pages. This option works best for small websites that are not updated frequently since it requires manual updating each time a page is added or removed. It’s worth mentioning in case your preference is to be up and running quickly and don’t mind doing the manual work of creating and moving the sitemap file. If you want to create something fast, or are just curious about what a sitemap looks like, it is easy to generate one. All you have to do is enter your URL and it takes care of the rest.&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;aligncenter size-full wp-image-12277&#34; src=&#34;http://getflywheel.com/wp-content/uploads/2015/08/xml-sitemap-generator.jpg&#34; alt=&#34;xml-sitemap-generator&#34; width=&#34;1022&#34; height=&#34;272&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Once the generator has created your sitemap, you need to upload it to the root of your domain; the URL will be something like www.yoursite.com/sitemap.xml.&lt;/p&gt;

&lt;h4 id=&#34;wordpress-specific-solutions-for-sitemaps&#34;&gt;WordPress specific solutions for sitemaps&lt;/h4&gt;

&lt;p&gt;We all know how awesome WordPress is and that there are many great plugins available. Although there is nothing wrong with manually creating a sitemap, it can be a pain if you have to do this all of the time. With sitemap specific plugins, there is no need to manually create your own. Although there are many options (and opinions!) out there, these two have been chosen as great options for an automatic solution to get you up and running.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Yoast’s WordPress SEO&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;You may already be using WordPress SEO by Yoast. If so, it does have a sitemap generator built right into it. It is very easy to setup.&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;aligncenter size-full wp-image-12278&#34; src=&#34;http://getflywheel.com/wp-content/uploads/2015/08/yoast-plugin.jpg&#34; alt=&#34;yoast-plugin&#34; width=&#34;1022&#34; height=&#34;1266&#34; /&gt;&lt;/p&gt;

&lt;p&gt;You will see an extensive option list that can be customized to your liking. If there are specific post types and taxonomies that you would like excluded, that is an option. If you have a very large site, Yoast has the capability to only include the specified number of URL’s listed on a page, which is less strain on your server.&lt;/p&gt;

&lt;p&gt;The nice thing is, this plugin takes care of the generating and publishing of the sitemap. It will be found at &lt;a href=&#34;http://www.yoursite.com/sitemap_index.xml&#34;&gt;http://www.yoursite.com/sitemap_index.xml&lt;/a&gt;. The main sitemap page lists a sitemap for each post type. It lists all the URLs that you would like crawled.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Google XML Sitemap&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://wordpress.org/plugins/google-sitemap-generator/&#34; target=&#34;_blank&#34;&gt;Google XML Sitemaps&lt;/a&gt; is another great option. Google XML Sitemaps gives you extra information like details of when your sitemap was last generated, and it also has the capability to calculate the priority for each post by looking at the number of comments.&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;aligncenter size-full wp-image-12275&#34; src=&#34;http://getflywheel.com/wp-content/uploads/2015/08/google-xml-sitemaps.jpg&#34; alt=&#34;google-xml-sitemaps&#34; width=&#34;1022&#34; height=&#34;653&#34; /&gt;&lt;/p&gt;

&lt;p&gt;It does require a bit of setup to get up and running. The main settings page has options so you can create the perfect sitemap. Most of the configuration settings can be modified on this same page. Like Yoast, you can easily choose what to exclude. In addition to choosing the number of posts that are listed, you can increase the memory limit and execution time for the sitemap creation process, making this a flexible option.&lt;/p&gt;

&lt;p&gt;This plugin will publish and update the sitemap automatically, so once things are set up, you do not have to do anything else, that easy ways to create a sitemap by default, this is the path to the sitemap: &lt;a href=&#34;http://www.yoursite.com/index.xml&#34;&gt;http://www.yoursite.com/index.xml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It’s a good practice to have a sitemap, and as an extra motivator, it’s worth mentioning the fact that there are SEO benefits to having one. On your journey to sitemapping, you will find that there are easy options for creating a sitemap, including great WordPress specific plugins that update and grow along with your site.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Keep checking the &lt;a href=&#34;http://blog.intispace.com/&#34;&gt;intispace blog&lt;/a&gt; for more upcoming tips on starting your own business.&lt;/strong&gt; Also, send us a tweet &lt;a href=&#34;https://twitter.com/intispace&#34;&gt;@intispace&lt;/a&gt; with your own ideas on what makes a great domain name!&lt;/p&gt;

&lt;p&gt;&lt;em&gt;This article was brought to you by Intispace Netmedia, for scalable wordpress hosting visit our site here &lt;strong&gt;&lt;a href=&#34;https://intispace.com/&#34;&gt;www.intispace.com&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Few Tips For Your New Website</title>
      <link>https://riesal.github.io/2015/07/few-tips-for-your-new-website/</link>
      <pubDate>Fri, 31 Jul 2015 10:00:06 &#43;0000</pubDate>
      
      <guid>https://riesal.github.io/2015/07/few-tips-for-your-new-website/</guid>
      <description>&lt;p&gt;&lt;strong&gt;Before you launch your brand new website, make sure you take these quick tips into account.&lt;/strong&gt;&lt;span id=&#34;more-1737&#34;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Few tips for your new website, creating a new website can be a lot of work. Between coming up with a design, building the site (or hiring a developer) and marketing the new idea, you’re putting in several hours to ensure that your site will draw in new visitors while keeping the current ones engaged.&lt;/p&gt;

&lt;p&gt;Make sure you hit these targets  to increase customer engagement with your new website:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Mobile-friendly design.&lt;/strong&gt; 64% of Americans now have a smartphone, and most of them are using them to access the internet on a daily basis. Make sure your site is easily accessible and navigable from a mobile device. Not only is it important to create a smooth browsing experience for mobile users, Google now actually penalizes sites that aren’t deemed “mobile friendly”. Make sure mobile-friendly design is at the top of your list. We suggest looking at responsive web design for best results.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Call to action.&lt;/strong&gt; You don’t simply want your visitors going to your site, admiring the good design, and leaving. You want them to take action. Make sure you include a strong Call To Action (CTA) on your homepage. Make your CTA obvious and simple to follow. Your visitors should find it easy to sign up for your newsletter, make a purchase or give you feedback.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Improved usability.&lt;/strong&gt; Your site should be visually appealing, but that counts for nothing if your visitors can’t find their way around your site. Usability is key when trying to keep your visitors on your site. To improve usability, make sure you consider your audience when designing your site. Will they know where to click next? Are you answering their questions? Will they be frustrated with anything on the site? Your visitors will leave right away if they’re confused about your site’s layout.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Less is more.&lt;/strong&gt; Don’t go overboard with excessive design. Think about usability first, and then make your site appealing to the eye. By using the right typography for your brand, tying in a consistent color scheme and including images that send the right message, you’re on your way to an effective, user-friendly design.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Informative ‘About Us’ page.&lt;/strong&gt; Let your visitors know exactly who you are and what kind of values your business has. An ‘&lt;a href=&#34;http://blog.intispace.com/2015/05/what-does-your-about-us-page-really-say/&#34;&gt;About Us’ page should be informative and honest&lt;/a&gt;; people love seeing what really lies at the core of a company. If you’re a well-established business, display some of your accomplishments throughout the years. If you’re an up-and-coming startup, outline some of your goals for the future.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Compelling copy.&lt;/strong&gt; This goes back to finding your audience and talking directly to them. Now that someone has arrived at your site, pitch them your message! Copy should sound convincing, but you never want to come off as too salesy or intrusive. Be conversational and provide the answers that they’re searching for (that’s why most people are online – to get answers!).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;When in doubt, A/B test!&lt;/strong&gt; Sometimes there’s no way of knowing which design will perform best. When launching your site, try a few different designs and see which one produces optimal results. This way, there is no doubting which design will work better for your site.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Speed up your site.&lt;/strong&gt; There’s almost nothing that will drive away your visitors more quickly than &lt;a href=&#34;http://blog.intispace.com/2015/05/how-to-measure-your-websites-page-load-time/&#34;&gt;slow loading times&lt;/a&gt;. In fact, 40% of people say they will leave a page if it takes longer than 3 seconds to load. Check out this blog post to see how you can easily speed up your website.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Keep checking the &lt;a href=&#34;http://blog.intispace.com/&#34;&gt;intispace blog&lt;/a&gt; for more upcoming tips on starting your own business.&lt;/strong&gt; Also, send us a tweet &lt;a href=&#34;https://twitter.com/intispace&#34;&gt;@intispace&lt;/a&gt; with your own ideas on what makes a great domain name!&lt;/p&gt;

&lt;p&gt;This article was brought to you by Intispace Netmedia, for scalable wordpress hosting visit our site here &lt;a href=&#34;https://intispace.com/&#34;&gt;www.intispace.com&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Say Goodbye to SSL Version 3.0</title>
      <link>https://riesal.github.io/2015/05/say-goodbye-to-ssl-version-3-0/</link>
      <pubDate>Thu, 21 May 2015 12:44:21 &#43;0000</pubDate>
      
      <guid>https://riesal.github.io/2015/05/say-goodbye-to-ssl-version-3-0/</guid>
      <description>

&lt;p&gt;It is no secret that securing your client’s data is an ongoing process and not something that you can simply install on a server/platform. That is why security solutions and protocols evolve all the time and developers frequently release new versions. The two cryptographic protocols that provide communication security over the Internet are TLS and SSL. The latest version of Secure Sockets Layer (SSL version 3.0) is the predecessor of TLS and is nearly 15 years old. So it was only a matter of time for someone to find the next big issue related to the SSL protocol. Yesterday Bodo Möller from the Google Security Team wrote &lt;a href=&#34;http://googleonlinesecurity.blogspot.co.uk/2014/10/this-poodle-bites-exploiting-ssl-30.html&#34; target=&#34;_blank&#34;&gt;a blog post&lt;/a&gt; about a new vulnerability in the design of SSL version 3.0. The vulnerability allows attackers to calculate the plain text of secure connections.&lt;/p&gt;

&lt;p&gt;&lt;span id=&#34;more-7162&#34;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;h3 id=&#34;possible-fixes&#34;&gt;Possible Fixes:&lt;/h3&gt;

&lt;p&gt;There are two ways to protect yourself. The first and best way to mitigate this problem is to completely disable SSL version 3.0 on all of your servers and also remove SSL 3.0 support from all client products. For example, Google officially announced in the same blog post that in the coming months they will remove SSL version 3.0 support from all of their client products (including the Google Chrome browser). Cloudflare and Sucuri already stopped supporting it. All other major browsers will also disable SSLv3 by default (Firefox version 34 will be released on Nov 25).&lt;/p&gt;

&lt;p&gt;The second solution is to support &lt;a href=&#34;https://tools.ietf.org/html/draft-ietf-tls-downgrade-scsv-00&#34; target=&#34;_blank&#34;&gt;TLS_FALLBACK_SCSV&lt;/a&gt;. This is a solution which prevents attackers from tricking browsers to use the old SSLv3 protocol instead of the TLS protocol. However, this solution is difficult to implement (many people will need to manually compile custom version of openssl) and it is only a new patch which solves this issue but does not provide any guarantees that SSLv3 won’t become vulnerable again a week from now.&lt;/p&gt;

&lt;h3 id=&#34;our-solution&#34;&gt;Our Solution:&lt;/h3&gt;

&lt;p&gt;Based on a detailed analysis of our network and the traffic towards our servers we decided to completely remove SSL version 3.0 support. As a matter of fact, a big portion of our servers have already been configured to support only the TLS encryption protocol and we’re in the process of reconfiguring all machines that are part of our infrastructure.&lt;/p&gt;

&lt;h3 id=&#34;possible-issues&#34;&gt;Possible Issues:&lt;/h3&gt;

&lt;p&gt;We know that some web applications still use SSLv3. Let’s say that for example a developer has decided to configure his/her PHP app to use SSLv3 via the CURLOPT_SSLVERSION option. Unfortunately, if such application connects to our servers, the connection will not be established and the developer will need to patch the code of the app. Our analysis shows that less than 0.05% of all traffic towards our servers is SSLv3. Thus, we do not expect such issues to occur, but we still encourage our customers to contact us via our Helpdesk if they notice any SSL-related issues.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Optimizing Jetpack!</title>
      <link>https://riesal.github.io/2015/05/optimizing-jetpack/</link>
      <pubDate>Thu, 21 May 2015 12:35:10 &#43;0000</pubDate>
      
      <guid>https://riesal.github.io/2015/05/optimizing-jetpack/</guid>
      <description>&lt;div class=&#34;grid-col span12&#34;&gt;
  Jetpack remains a polarizing plugin amongst developers so it’s not often discussed on developer-oriented blogs. The plugin has a history filled with bloat, slowness, and conflicts with other plugins. Admittedly, I myself have a love/hate relationship with it.
&lt;/div&gt;

&lt;div class=&#34;grid-col span12&#34;&gt;
&lt;/div&gt;

&lt;div class=&#34;grid-col span12&#34;&gt;
  However, recently, it’s been improved so much that I feel comfortable recommending it for some users. It’s now truly modularized, allowing complete control over which features are activated, and much more stable. My biggest pet peeve will always be the way you have to connect to WordPress.com to use it. I understand all the technical reasons for that, but it’s a terrible user experience that is very confusing (especially for novice WordPress users).
&lt;/div&gt;

&lt;div class=&#34;grid-col span7&#34;&gt;
  &lt;div class=&#34;post-content&#34;&gt;
    &lt;p&gt;
      With all that said, why is Optimizing Jetpack making an appearance here? The fact is if you can get past the clunky activation, Jetpack offers a great suite of features for the average blogger. But, in keeping with the WordPress philosophy of “decisions not options”, as an end user, you don’t have many configuration settings compared to all the options you would get if you used a similar standalone plugin.
    &lt;/p&gt;
    
    &lt;p&gt;
      Fortunately, the code has been sprinkled with actions and filters for developers. So, while Jetpack is generally marketed to entry-level end users, there are actually some nice Easter eggs for developers who want to customize things a little bit for their clients −I call them Easter eggs because the ability to customize Jetpack hasn’t really been highlighted or documented too much. There has yet to be a complete resource that documents all of filters and actions available (I’ll give just a few examples here), but you can dig through the code looking for add_filter and add_action to find more. The &lt;a href=&#34;https://github.com/Automattic/jetpack&#34;&gt;code can be found on GitHub&lt;/a&gt; for easy reading (and if you want to contribute).
    &lt;/p&gt;
    
    &lt;p&gt;
      This article assumes you have some experience with development or at least are not afraid to work with code, even if it’s just copy/pasting snippets (hey, we all start out like that!). Here’s just a handful of ways you can tweak Jetpack.
    &lt;/p&gt;
    
    &lt;p&gt;
      &lt;strong&gt;Ditch That WordPress.com Connection…&lt;br /&gt; &lt;/strong&gt;Optimizing Jetpack! …Well, almost. You can actually use Jetpack without connecting to WordPress.com, at least partially. Some of the modules will work fine without the connection whereas some will remain unavailable. This comes handy when you are working on a local installation or even a production site if you’re only using certain modules.
    &lt;/p&gt;
    
    &lt;p&gt;
      Add the following to your wp-config.php file to use development mode:
    &lt;/p&gt;
    
    &lt;pre&gt;define( ‘JETPACK_DEV_DEBUG’, true);&lt;/pre&gt;
    
    &lt;h4&gt;
      &lt;strong&gt;Customization Best Practices&lt;/strong&gt;
    &lt;/h4&gt;
    
    &lt;p&gt;
      Optimizing Jetpack! When customizing Jetpack, there are a couple of things to keep in mind:
    &lt;/p&gt;
    
    &lt;ul&gt;
      &lt;li&gt;
        Your customizations will generally be achieved by writing your own functions, so make sure to use &lt;strong&gt;unique function names&lt;/strong&gt; to avoid collision with any other plugin. I’ll prefix all mine with ‘wtwlb’ (wtw for WebTrainingWheels, lb for my initials) in these examples.
      &lt;/li&gt;
    &lt;/ul&gt;
    
    &lt;ul&gt;
      &lt;li&gt;
        Customizations can either be done in your theme, the child theme’s functions.php and template files, or via a ‘&lt;a href=&#34;https://css-tricks.com/wordpress-functionality-plugins/&#34;&gt;functionality plugin&lt;/a&gt;’. This is a simple plugin that contains anything you would otherwise paste in functions.php and it is advantageous because it’s theme-independent. If you plan on using the Jetpack mobile theme and customizing it, you will need to do it this way.
      &lt;/li&gt;
    &lt;/ul&gt;
    
    &lt;p&gt;
      &lt;strong&gt;Customize The Sharing Module&lt;br /&gt; &lt;/strong&gt;The sharing module in Jetpack is popular as it’s a pain-free way to add the most popular social share buttons to your content. Yet there are a couple of limitations.
    &lt;/p&gt;
    
    &lt;p&gt;
      &lt;strong&gt;Change Button Placement&lt;br /&gt; &lt;/strong&gt;By default, Jetpack lets you choose on what content (posts, pages, homepage, etc.) you want the buttons to appear, but it automatically places the buttons at the bottom of the content. A common request is to add the buttons at the top as well as (or instead of) at the bottom. This is really easy to do.
    &lt;/p&gt;
    
    &lt;p&gt;
      The icons are placed using a filter on the WordPress tags for the_content and the _excerpt:
    &lt;/p&gt;
    
    &lt;pre&gt;add_filter( ‘the_content’, ‘sharing_display’, 19 );
 add_filter( ‘the_excerpt’, ‘sharing_display’, 19 );&lt;/pre&gt;
    
    &lt;p&gt;
      Removing either of those placements would be a matter of writing a small function to remove the appropriate filter. To remove it from the_content, and, therefore, from the bottom of the post, for example, the below would work:
    &lt;/p&gt;
    
    &lt;pre&gt;function wtwlb_remove_share() {
 remove_filter (‘the_content’, ‘sharing_display’, 19 ); }
 add_action (‘loop_start’, ‘wtwlb_remove_share’);&lt;/pre&gt;
    
    &lt;p&gt;
      Then you can use the following in your functionality plugin to place the buttons at the top of the post:
    &lt;/p&gt;
    
    &lt;pre&gt;function wtwlb_move_jpshare( $content = ” ) {
 if ( function_exists( ‘sharing_display’ ) ) {
 return sharing_display() . $content;
 }
 else {&lt;/pre&gt;
    
    &lt;pre&gt;return $content;
 }
 }
 add_filter( ‘the_content’, ‘wtwlb_move_jpshare’, 19 );&lt;/pre&gt;
    
    &lt;p&gt;
      If you want to manually place the buttons elsewhere in your custom theme or child theme’s template files, you can use the following wherever you want the buttons to appear:
    &lt;/p&gt;
    
    &lt;pre&gt;if ( function_exists( ‘sharing_display’ ) ) {
 sharing_display( ”, true );
 }&lt;/pre&gt;
    
    &lt;p&gt;
      &lt;strong&gt;Remove the Counter&lt;br /&gt; &lt;/strong&gt;Optimizing Jetpack! By default, Jetpack will show the sharing counts on the buttons. If you’d like to prevent that, you can do so with one line:
    &lt;/p&gt;
    
    &lt;pre&gt;add_filter( ‘jetpack_sharing_counts’, ‘__return_false’ );&lt;/pre&gt;
    
    &lt;p&gt;
      &lt;img class=&#34;alignnone wp-image-14063&#34; src=&#34;http://s1.mt-cdn.net/blog/wp-content/uploads/2015/05/markuppicture.png&#34; alt=&#34;markuppicture&#34; width=&#34;700&#34; height=&#34;314&#34; /&gt;
    &lt;/p&gt;
    
    &lt;p&gt;
      &lt;strong&gt;Style The Icons&lt;br /&gt; &lt;/strong&gt;Optimizing Jetpack! There’s no fancy trick to styling Jetpack sharing buttons. You can radically change the look with pure CSS in your child theme. The icons themselves are Genericons (an icon font), making them easy to manipulate the color, size, etc.
    &lt;/p&gt;
    
    &lt;h4&gt;
       &lt;strong&gt;Customize Related Posts&lt;/strong&gt;
    &lt;/h4&gt;
    
    &lt;p&gt;
      Optimizing Jetpack! Showing related content is a great feature to keep readers on your site, but some WordPress plugins that do this can be slow and inefficient. Jetpack offloads the intensive processing work to its WordPress.com servers, allowing for a nimble Related Posts feature. By default, you only have two options to customize:
    &lt;/p&gt;
    
    &lt;p&gt;
      &lt;img class=&#34;alignnone wp-image-14064&#34; src=&#34;http://s1.mt-cdn.net/blog/wp-content/uploads/2015/05/customizerelatedposts.png&#34; alt=&#34;customizerelatedposts&#34; width=&#34;700&#34; height=&#34;295&#34; /&gt;
    &lt;/p&gt;
    
    &lt;p&gt;
      So, here are a few handy tweaks you can make:
    &lt;/p&gt;
    
    &lt;p&gt;
      &lt;strong&gt;Customize the Number of Posts&lt;br /&gt; &lt;/strong&gt;By default, the module displays three posts. You can change that with the function below. For example, this will set the number of posts to four:
    &lt;/p&gt;
    
    &lt;pre&gt;function wtwlb_jpmore_related_posts( $options ) {
 $options[‘size’] = 4;
 return $options;
 }
 add_filter( ‘jetpack_relatedposts_filter_options’, ‘wtwlb_jpmore_related_posts’ );&lt;/pre&gt;
    
    &lt;p&gt;
      Since I want four posts in a row and the module style is based on three, I’ll need to tweak the CSS to accommodate. Here I set the width of each to 25% instead of 33%:
    &lt;/p&gt;
    
    &lt;pre&gt;div#jp-relatedposts div.jp-relatedposts-items .jp-relatedposts-post {
 width: 25%;
 }&lt;/pre&gt;
    
    &lt;pre&gt;div#jp-relatedposts div.jp-relatedposts-items .jp-relatedposts-post:nth-child(3n+4),
 div#jp-relatedposts div.jp-relatedposts-items-visual .jp-relatedposts-post:nth-child(3n+4) {
 clear: none;
 }&lt;/pre&gt;
    
    &lt;p&gt;
      &lt;strong&gt;Change the Headline&lt;br /&gt; &lt;/strong&gt;The default headline for the related posts section is simply “Related”. In this snippet, we’ll change that to “Recommended Posts”:
    &lt;/p&gt;
    
    &lt;pre&gt;function wtwlb_related_posts_headline( $headline ) {
 $headline = sprintf(
 ‘&amp;lt;h3 class=”jp-relatedposts-headline”&amp;gt;&amp;lt;em&amp;gt;%s&amp;lt;/em&amp;gt;&amp;lt;/h3&amp;gt;’,
 esc_html( ‘Recommended Posts’ )
 );
 return $headline;
 }
 add_filter( ‘jetpack_relatedposts_filter_headline’, ‘wtwlb_related_posts_headline’ );&lt;/pre&gt;
    
    &lt;p&gt;
      This is how it looks by default:
    &lt;/p&gt;
    
    &lt;p&gt;
      &lt;img class=&#34;alignnone wp-image-14069&#34; src=&#34;http://s1.mt-cdn.net/blog/wp-content/uploads/2015/05/headlinechange.png&#34; alt=&#34;headlinechange&#34; width=&#34;700&#34; height=&#34;552&#34; /&gt;
    &lt;/p&gt;
    
    &lt;p&gt;
      And with the two changes above:
    &lt;/p&gt;
    
    &lt;p&gt;
      &lt;img class=&#34;alignnone wp-image-14070&#34; src=&#34;http://s1.mt-cdn.net/blog/wp-content/uploads/2015/05/twochangesheadline.png&#34; alt=&#34;twochangesheadline&#34; width=&#34;700&#34; height=&#34;294&#34; /&gt;
    &lt;/p&gt;
    
    &lt;p&gt;
      &lt;strong&gt;Change Thumbnail Size&lt;br /&gt; &lt;/strong&gt;If you’d like to change the dimensions of the thumbnails that go with each related post, you can use the following. In this example, I’m making the images square, i.e. 125 x125:
    &lt;/p&gt;
    
    &lt;pre&gt;function wtwlb_jp_image_size ( $thumbnail_size ) {
 $thumbnail_size[‘width’] = 125;
 $thumbnail_size[‘height’] = 125;
 return $thumbnail_size;
 }
 add_filter( ‘jetpack_relatedposts_filter_thumbnail_size’, ‘wtwlb_jp_image_size’ );&lt;/pre&gt;
    
    &lt;p&gt;
      You can find a slew of other tweaks like this here: &lt;a href=&#34;http://jetpack.me/support/related-posts/customize-related-posts/&#34;&gt;http://jetpack.me/support/related-posts/customize-related-posts/&lt;/a&gt;
    &lt;/p&gt;
    
    &lt;h4&gt;
      &lt;strong&gt;Customize The Mobile Theme&lt;/strong&gt;
    &lt;/h4&gt;
    
    &lt;p&gt;
      The mobile theme included in Jetpack is clean and functional, but, again, a little short on options. It’s not going to look like your desktop theme right out of the box, but it can be styled quite easily.
    &lt;/p&gt;
    
    &lt;p&gt;
      &lt;strong&gt;Create Custom Mobile Styles&lt;br /&gt; &lt;/strong&gt;There are a couple options to apply styling to the mobile theme. Remember, because it’s a separate theme, you cannot add your styling to your regular desktop theme style.css because that’s not going to be loaded on mobile.
    &lt;/p&gt;
    
    &lt;ol&gt;
      &lt;li&gt;
        For an easy way to include custom CSS, I like to use a plugin called &lt;a href=&#34;https://wordpress.org/plugins/simple-custom-css/&#34;&gt;Simple Custom CSS&lt;/a&gt;. It just provides a box for you to enter your CSS and have it apply regardless of the theme. It’s perfect for these sort of cases. To target styles specifically within the mobile theme, just make sure to use the class: .mobile-theme
      &lt;/li&gt;
      &lt;li&gt;
        Create a separate style sheet and enqueue it. This could be particularly useful if you want to keep your custom CSS out of the dashboard where an over-zealous client might get their hands on it.
      &lt;/li&gt;
    &lt;/ol&gt;
    
    &lt;p&gt;
      Here’s the code you’d need to do that:
    &lt;/p&gt;
    
    &lt;pre&gt;// Check if we are on mobile
 function jetpackme_is_mobile() {&lt;/pre&gt;
    
    &lt;pre&gt;// Are Jetpack Mobile functions available?
 if ( ! function_exists( ‘jetpack_is_mobile’ ) )&lt;/pre&gt;
    
    &lt;pre&gt;return false;&lt;/pre&gt;
    
    &lt;pre&gt;// Is Mobile theme showing?
 if ( isset( $_COOKIE[‘akm_mobile’] ) &amp;&amp; $_COOKIE[‘akm_mobile’] == ‘false’ )
 return false;&lt;/pre&gt;
    
    &lt;pre&gt;return jetpack_is_mobile();
 }&lt;/pre&gt;
    
    &lt;pre&gt;// On mobile? Enqueue your custom style sheet
 if ( jetpackme_is_mobile() ) {
 add_action( ‘wp_enqueue_scripts’, ‘wtwlb_jetpackme_mobile_css’ );
 }&lt;/pre&gt;
    
    &lt;pre&gt;// Build the function
 function wtwlb_jetpackme_mobile_css() {&lt;/pre&gt;
    
    &lt;pre&gt;wp_enqueue_style( ‘mobile-style’, plugins_url( ‘mobile-style.css’, __FILE__ ), array(‘style’), ‘1’, ‘all’ );
 }&lt;/pre&gt;
    
    &lt;p&gt;
      In this case, I have created a mobile specific style sheet called mobile-style.css, which will be saved in the same folder as my functionality plugin.
    &lt;/p&gt;
    
    &lt;p&gt;
      &lt;strong&gt;Mobile Specific Widgets&lt;br /&gt; &lt;/strong&gt;Optimizing Jetpack! Presently, there isn’t an elegant way to have mobile-specific widgets using the Jetpack mobile theme. But here’s a method that will work.
    &lt;/p&gt;
    
    &lt;p&gt;
      By default, the mobile theme will look in your main theme for a sidebar registered with the ID: sidebar-1 and it will use that at the bottom of your mobile theme. If your theme does not have a sidebar with that ID, you won’t have any widgets unless you register one for this purpose.
    &lt;/p&gt;
    
    &lt;p&gt;
      Assuming you do have that sidebar, by default all widgets in it will show on mobile. But if you want to control that and only show certain ones on mobile, you can use a plugin called &lt;a href=&#34;https://wordpress.org/plugins/widget-logic/&#34;&gt;Widget Logic&lt;/a&gt;. It gives you a field on each widget to specify conditions on which to show it. Here you can tap into a cool Jetpack function to designate the widget to show up only on mobile. On the widgets you want to show on mobile devices, enter:
    &lt;/p&gt;
    
    &lt;pre&gt;jetpack_is_mobile()&lt;/pre&gt;
    
    &lt;p&gt;
      For those widgets you only want on desktop, enter:
    &lt;/p&gt;
    
    &lt;pre&gt;!jetpack_is_mobile()&lt;/pre&gt;
    
    &lt;p&gt;
      &lt;img class=&#34;alignnone wp-image-14072&#34; src=&#34;http://s2.mt-cdn.net/blog/wp-content/uploads/2015/05/jetpackismobile.png&#34; alt=&#34;jetpackismobile&#34; width=&#34;700&#34; height=&#34;738&#34; /&gt;
    &lt;/p&gt;
    
    &lt;p&gt;
      &amp;nbsp;
    &lt;/p&gt;
    
    &lt;p&gt;
      Further reading:&lt;br /&gt; &lt;a href=&#34;https://github.com/jeremyfelt/Hooks-in-Jetpack&#34;&gt;A partial list of hooks in Jetpack&lt;br /&gt; &lt;/a&gt;&lt;a href=&#34;http://jetpack.me/support/&#34;&gt;Official Jetpack documentation&lt;br /&gt; &lt;/a&gt;&lt;a href=&#34;http://jetpack.me/support/jetpack-for-developers/&#34;&gt;Jetpack developers’ page&lt;br /&gt; &lt;/a&gt;&lt;a href=&#34;http://jetpack.me/2013/06/27/customize-mobile-theme/&#34;&gt;Customizing the mobile theme&lt;/a&gt;
    &lt;/p&gt;
    
    &lt;p&gt;
      Hopefully, this will entice you to dig deeper into the capabilities of Jetpack. Have you done something cool with Jetpack? Share it in the comments!
    &lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>
